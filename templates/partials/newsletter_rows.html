{% for subscriber in subscribers %}
<tr class="hover:bg-brand-50/50 transition duration-150">
    <td class="py-3 px-4 text-slate-700 font-medium">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-pink-100 flex items-center justify-center text-pink-500">
                <i class="fa-solid fa-user"></i>
            </div>
            {{ subscriber.email }}
        </div>
    </td>
    <td class="py-3 px-4 text-center">
        {% if subscriber.is_active %}
        <span class="px-2 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700 border border-green-200">
            Active
        </span>
        {% else %}
        <span class="px-2 py-1 rounded-full text-xs font-bold bg-slate-100 text-slate-500 border border-slate-200">
            Inactive
        </span>
        {% endif %}
    </td>
    <td class="py-3 px-4 text-right text-slate-500 text-sm">
        {{ subscriber.created_at|date:"M d, Y H:i" }}
    </td>
</tr>
{% endfor %}

{% if not subscribers and not has_more and not q_sub %}
<!-- Only show this if strictly no results and not a search, though usually search matches this block too if empty -->
{% endif %}

{% if not subscribers %}
{% if q_sub %}
<tr>
    <td colspan="3" class="py-8 text-center text-slate-400">
        No subscribers found matching "{{ q_sub }}"
    </td>
</tr>
{% endif %}
{% endif %}


<!-- Load More Row -->
{% if has_more %}
<tr id="newsletter-load-more">
    <td colspan="3" class="py-4 text-center">
        <button hx-get="{% url 'admin_dashboard' %}?sub_page={{ next_page }}{% if q_sub %}&q_sub={{ q_sub }}{% endif %}&days={{ days }}"
                hx-target="closest tr"
                hx-swap="outerHTML"
                class="px-6 py-2 rounded-lg bg-brand-100 text-brand-600 font-heading font-bold hover:bg-brand-200 transition">
            Load More (20)
        </button>
    </td>
</tr>
{% endif %}